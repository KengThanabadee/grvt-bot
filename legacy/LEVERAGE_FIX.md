# Leverage Management - Final Summary

## üîç ‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

1. **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°**: Bot ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö leverage ‡∏ú‡πà‡∏≤‡∏ô code ‡πÑ‡∏î‡πâ
2. **‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ **error 403 "Not authorized"**

### ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏

GRVT **‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏ú‡πà‡∏≤‡∏ô API** ‡∏ö‡∏ô testnet ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ permission ‡∏û‡∏¥‡πÄ‡∏®‡∏©:

```
GrvtError(code=1001, message='You are not authorized to access this functionality', status=403)
```

### ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Final

‚úÖ **Bot ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥** ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏ú‡πà‡∏≤‡∏ô API ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

1. Bot ‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏ú‡πà‡∏≤‡∏ô API
2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö leverage ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
3. Bot ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢ leverage ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö

---

## üìù ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Leverage ‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö GRVT (Required)

‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å API ‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á:

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [GRVT Testnet Web Interface](https://testnet.grvt.io/)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **BTC_USDT_Perp** (‡∏´‡∏£‡∏∑‡∏≠ instrument ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ)
3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ **Leverage = 10x** (‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô `config.py`)
4. Save/Confirm

### 2. ‡∏£‡∏±‡∏ô Bot

```bash
.\env\Scripts\activate
python main.py
```

### 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Log

Bot ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:

```
2026-01-23 16:55:21 - INFO - Attempting to set leverage to 10x for BTC_USDT_Perp...
2026-01-23 16:55:21 - ERROR - Failed to set leverage: GrvtError(code=1001, message='You are not authorized...', status=403)
2026-01-23 16:55:21 - WARNING - ‚ö† Could not set leverage via API (may require manual setup)
2026-01-23 16:55:21 - INFO - üìù IMPORTANT: Please set leverage to 10x for BTC_USDT_Perp on GRVT web interface
2026-01-23 16:55:21 - INFO -    Bot will use whatever leverage is currently set on the exchange
2026-01-23 16:55:22 - INFO - ‚ÑπÔ∏è  Current leverage on exchange: 10x (min: 1x, max: 50x)
```

---

## ‚úÖ Features ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Leverage ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (Working ‚úÖ)

```python
# ‡πÉ‡∏ô execution.py
result = executor.get_current_leverage("BTC_USDT_Perp")
print(f"Current: {result.leverage}x")
print(f"Min: {result.min_leverage}x, Max: {result.max_leverage}x")
```

### 2. ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Leverage (Graceful Failure ‚úÖ)

```python
# Bot ‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏° ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Å‡πá‡πÅ‡∏™‡∏î‡∏á warning ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠
executor.set_leverage("BTC_USDT_Perp", 10)
```

### 3. ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤ Leverage ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á (Working ‚úÖ)

‡∏ñ‡πâ‡∏≤ leverage ‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö `config.py`:
```
‚ö†Ô∏è WARNING: Exchange leverage (5x) differs from config (10x)
```

---

## üéØ Best Practice

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

1. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏Å‡πà‡∏≠‡∏ô** ‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `config.py`
2. **‡∏£‡∏±‡∏ô bot** ‚Üí bot ‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö log** ‡πÄ‡∏û‡∏∑‡πà‡∏≠ confirm ‡∏ß‡πà‡∏≤ leverage ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Leverage ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

```python
# ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÅ‡∏¢‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö check leverage
from execution import GRVTExecutor
import config

executor = GRVTExecutor()
result = executor.get_current_leverage(config.SYMBOL)

if result:
    print(f"Symbol: {result.instrument}")
    print(f"Current Leverage: {result.leverage}x")
    print(f"Min: {result.min_leverage}x")
    print(f"Max: {result.max_leverage}x")
```

---

## ‚ùì FAQ

### Q: ‡∏ó‡∏≥‡πÑ‡∏° API ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ?
**A:** GRVT ‡∏≠‡∏≤‡∏à‡∏à‡∏≥‡∏Å‡∏±‡∏î permission ‡∏ô‡∏µ‡πâ‡∏ö‡∏ô testnet ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ signature ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà support

### Q: Bot ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏ú‡πà‡∏≤‡∏ô API ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ?
**A:** ‚úÖ **‡πÑ‡∏î‡πâ!** Bot ‡∏à‡∏∞‡πÉ‡∏ä‡πâ leverage ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö

### Q: ‡∏à‡∏∞‡∏£‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ß‡πà‡∏≤ leverage ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á?
**A:** ‡∏î‡∏π‡∏ó‡∏µ‡πà log ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏° bot:
```
‚ÑπÔ∏è  Current leverage on exchange: 10x (min: 1x, max: 50x)
```

### Q: ‡∏ñ‡πâ‡∏≤ leverage ‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö config ‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£?
**A:** Bot ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á **WARNING** ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠ (‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö)

---

## üîß Code Changes Summary

### `execution.py`
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° `set_leverage()` ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ Raw API
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° `get_current_leverage()` ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- ‚úÖ Handle authorization errors gracefully

### `main.py`
- ‚úÖ ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á warning ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á leverage ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- ‚úÖ ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤ leverage ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö config

---

## üìä Status

| Feature | Status | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |
|---------|--------|----------|
| Get Current Leverage | ‚úÖ Working | ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ |
| Set Leverage via API | ‚ö†Ô∏è Not Authorized | GRVT ‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï |
| Manual Leverage Setup | ‚úÖ Working | ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏ó‡∏ô |
| Leverage Verification | ‚úÖ Working | Bot check ‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô |
| Bot Trading | ‚úÖ Working | ‡πÉ‡∏ä‡πâ leverage ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö |

---

## üéâ Conclusion

‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤ GRVT ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏ú‡πà‡∏≤‡∏ô API ‡πÅ‡∏ï‡πà:

‚úÖ Bot **‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ leverage ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö  
‚úÖ Bot **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô** ‡∏ñ‡πâ‡∏≤ leverage ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö config  
‚úÖ ‡∏°‡∏µ **utility functions** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö leverage  
‚úÖ Code ‡∏°‡∏µ **error handling** ‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡πÑ‡∏°‡πà crash

**‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ bot ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!** ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ leverage ‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö GRVT ‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ô üöÄ
